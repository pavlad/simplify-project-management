<!DOCTYPE html>
<html>
  <head>
    <title>project-demo</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.2/semantic.min.css">
    <link rel="stylesheet" href="https://code.getmdl.io/1.1.3/material.indigo-pink.min.css">
    <script defer src="https://code.getmdl.io/1.1.3/material.min.js"></script>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
    rel="stylesheet">
    <link rel="stylesheet" href="./date/daterangepicker.min.css">

    <link rel="stylesheet" href="./css/style.css">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>

  <body>

    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header mdl-layout--no-desktop-drawer-button">
      <header class="mdl-layout__header">

        <div class="mdl-layout__header-row">
          <!-- Title -->
          <span class="mdl-layout-title">project-demo</span>
          <!-- Add spacer, to align navigation to the right -->
          <div class="mdl-layout-spacer"></div>
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable
          mdl-textfield--floating-label mdl-textfield--align-right">
            <label class="mdl-button mdl-js-button mdl-button--icon" for="fixed-header-drawer-exp">
              <i class="material-icons">search</i>
            </label>
            <div class="mdl-textfield__expandable-holder">
              <input class="mdl-textfield__input" type="text" name="sample"id="fixed-header-drawer-exp">
            </div>
          </div>

          <nav class="mdl-navigation mdl-layout--large-screen-only">
            <a class="mdl-navigation__link" href="" class="little-transparent"><i class="material-icons">list</i> Projects</a>
            <a class="mdl-navigation__link" href="" class="little-transparent"><i class="material-icons">check_box</i> Tasks</a>
            <a class="mdl-navigation__link" href="" class="little-transparent"><i class="material-icons">business</i> Clients</a>
            <a class="mdl-navigation__link" href="" class="little-transparent"><i class="material-icons">people</i> Consultants</a>
            <a class="mdl-navigation__link" href="" class="little-transparent"><i class="material-icons">timeline</i> Dashboard</a>
            <a class="ui circular label">22</a>

            <!-- Right aligned menu below button -->


            <ul class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="user-menu">
              <li class="mdl-menu__item">My Profile</li>
              <li class="mdl-menu__item">Settings</li>
              <li disabled class="mdl-menu__item">Edit dashboard</li>
              <li class="mdl-menu__item">Log Out</li>
            </ul>
            <div class="ui item right profile">
                <div class="ui header" id="user-menu">
                    <img class="ui mini circular image" src="./img/lukas.png">
                    <div class="content" style="color:rgba(255, 255, 255, 0.7)">
                        <div class="ui sub header">
                        <h4 class="ui header" style="color:rgba(255, 255, 255, 0.7)">
                            Lukas Gutwinski
                            <div class="sub header" style="color:rgba(255, 255, 255, 0.7)">
                                Awesome Consulting Company
                            </div>
                        </h4>
                    </div>
                </div>
            </div>
          </nav>
        </div>
      </header>
      <div class="mdl-layout__drawer">
        <span class="mdl-layout-title">Menu</span>
        <nav class="mdl-navigation">

          <a class="mdl-navigation__link" href=""><i class="material-icons">list</i> Projects</a>
          <a class="mdl-navigation__link" href=""><i class="material-icons">check_box</i> Tasks</a></a>
          <a class="mdl-navigation__link" href=""><i class="material-icons">business</i> Clients</a>
          <a class="mdl-navigation__link" href=""><i class="material-icons">people</i> Consultants</a>
          <a class="mdl-navigation__link" href=""><i class="material-icons">timeline</i> Dashboard</a>

        </nav>
      </div>
      <main class="mdl-layout__content">
          <div class="page-content my-projects">

            <BR>
            <BR>
            <BR>
            <div class="ui grid">
              <div class="eight wide column">
                <div class="task-filter-contols" style="display:none;">
                  <button class="ui button">
                    All
                  </button>
                  <button class="ui button">
                    Next 7 Days
                  </button>
                  <button class="ui button task-from-to-filter" id="rangepicker">
                    From ... To ...
                  </button>
                </div>
              </div>
              <div class="eight wide column">
                <div class="right-aligned new-project-button">
                  <button class="right-aligned ui icon button filter-trigger">
                    <i class="filter icon"></i>
                  </button>
                  <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored create-project">
                    New Task
                  </button>
                </div>
              </div>
            </div>

            <div class="tasks-table" id="task-list">
              <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
                <thead>
                  <tr>
                    <th class="mdl-data-table__cell--non-numeric"><span class="sort" data-sort="task-status">Done</span></th>
                    <th><span class="sort" data-sort="task-name">Task</span></th>
                    <th><span class="sort" data-sort="task-client">Client</span></th>
                    <th><span class="sort" data-sort="task-project">Project</span></th>
                    <th><span class="sort" data-sort="task-start">Start</span></th>
                    <th><span class="sort" data-sort="task-end">End</span></th>
                    <th><span class="sort" data-sort="task-consultant">Assigned to</span></th>
                  </tr>
                </thead>
                <tbody class="list">
                  <tr>
                    <td data-label="Status" class="mdl-data-table__cell--non-numeric"><i class="fa fa-check-circle fa-2x task-unchecked mark-as-done-trigger task-status" aria-hidden="true"></i></td>
                    <td class="task-name">Finish project report</td>
                    <td class="task-client">Rich Client</td>
                    <td class="task-project">Awesome Project</td>
                    <td class="task-start">25.7.2016</td>
                    <td class="task-end">27.7.2016</td>
                    <td class="task-consultant"><div class="consultant-avatars"><span data-title="Lukas Gutwinski" data-content="Senior Consultant Operational Excellence" class="project-manager-popup-trigger"><img class="ui mini circular image" src="./img/lukas.png"></div></span></td>
                  </tr>
                  <tr>
                    <td data-label="Status" class="mdl-data-table__cell--non-numeric"><i class="fa fa-check-circle fa-2x task-unchecked mark-as-done-trigger task-status" aria-hidden="true"></i></td>
                    <td class="task-name">Go on a drink with client</td>
                    <td class="task-client">Drunk client</td>
                    <td class="task-project">Exhausting Project</td>
                    <td class="task-start">27.7.2016</td>
                    <td class="task-end">30.7.2016</td>
                    <td class="task-consultant"><div class="consultant-avatars"><span data-title="Lukas Gutwinski" data-content="Senior Consultant Operational Excellence" class="project-manager-popup-trigger"><img class="ui mini circular image" src="./img/lukas.png"></div></span></td>
                  </tr>
                  <tr>
                    <td data-label="Status" class="mdl-data-table__cell--non-numeric"><i class="fa fa-check-circle fa-2x task-unchecked mark-as-done-trigger task-status" aria-hidden="true"></i></td>
                    <td class="task-name">Hand in papers</td>
                    <td class="task-client">Paper hungry Client</td>
                    <td class="task-project">Bureaucratic Project</td>
                    <td class="task-start">11.8.2016</td>
                    <td class="task-end">12.8.2016</td>
                    <td class="task-consultant"><div class="consultant-avatars"><span data-title="Lukas Gutwinski" data-content="Senior Consultant Operational Excellence" class="project-manager-popup-trigger"><img class="ui mini circular image" src="./img/lukas.png"></div></span></td>
                  </tr>
                  <tr>
                    <td data-label="Status" class="mdl-data-table__cell--non-numeric"><i class="fa fa-check-circle fa-2x task-unchecked mark-as-done-trigger task-status" aria-hidden="true"></i></td>
                    <td class="task-name">Do some grocery shopping</td>
                    <td class="task-client">Shopping Clien</td>
                    <td class="task-project">Project</td>
                    <td class="task-start">22.7.2016</td>
                    <td class="task-end">26.7.2016</td>
                    <td class="task-consultant"><div class="consultant-avatars"><span data-title="Lukas Gutwinski" data-content="Senior Consultant Operational Excellence" class="project-manager-popup-trigger"><img class="ui mini circular image" src="./img/lukas.png"></div></span></td>
                  </tr>
                  <tr>
                    <td data-label="Status" class="mdl-data-table__cell--non-numeric"><i class="fa fa-check-circle fa-2x task-unchecked mark-as-done-trigger task-status" aria-hidden="true"></i></td>
                    <td class="task-name">Design charts and do some stuff</td>
                    <td class="task-client">Rich Client</td>
                    <td class="task-project">Awesome Project</td>
                    <td class="task-start">25.7.2016</td>
                    <td class="task-end">27.7.2016</td>
                    <td class="task-consultant"><div class="consultant-avatars"><span data-title="Lukas Gutwinski" data-content="Senior Consultant Operational Excellence" class="project-manager-popup-trigger"><img class="ui mini circular image" src="./img/lukas.png"></div></span></td>
                  </tr>
                  <tr>
                    <td data-label="Status" class="mdl-data-table__cell--non-numeric"><i class="fa fa-check-circle fa-2x task-unchecked mark-as-done-trigger task-status" aria-hidden="true"></i></td>
                    <td class="task-name">Meet Larry</td>
                    <td class="task-client">French Client</td>
                    <td class="task-project">Liege Project</td>
                    <td class="task-start">11.7.2016</td>
                    <td class="task-end">27.7.2016</td>
                    <td class="task-consultant"><div class="consultant-avatars"><span data-title="Lukas Gutwinski" data-content="Senior Consultant Operational Excellence" class="project-manager-popup-trigger"><img class="ui mini circular image" src="./img/lukas.png"></div></span></td>
                  </tr>
                  <tr>
                    <td data-label="Status" class="mdl-data-table__cell--non-numeric"><i class="fa fa-check-circle fa-2x task-unchecked mark-as-done-trigger task-status" aria-hidden="true"></i></td>
                    <td class="task-name">Prepare for livecoding</td>
                    <td class="task-client">Coder Client</td>
                    <td class="task-project">Tech Project</td>
                    <td class="task-start">15.7.2016</td>
                    <td class="task-end">17.7.2016</td>
                    <td class="task-consultant"><div class="consultant-avatars"><span data-title="Lukas Gutwinski" data-content="Senior Consultant Operational Excellence" class="project-manager-popup-trigger"><img class="ui mini circular image" src="./img/lukas.png"></div></span></td>
                  </tr>
                  <tr>
                    <td data-label="Status" class="mdl-data-table__cell--non-numeric"><i class="fa fa-check-circle fa-2x task-unchecked mark-as-done-trigger task-status" aria-hidden="true"></i></td>
                    <td class="task-name">Do some research online</td>
                    <td class="task-client">Smart Client</td>
                    <td class="task-project">Wikipedia Project</td>
                    <td class="task-start">25.9.2016</td>
                    <td class="task-end">27.9.2016</td>
                    <td class="task-consultant"><div class="consultant-avatars"><span data-title="Lukas Gutwinski" data-content="Senior Consultant Operational Excellence" class="project-manager-popup-trigger"><img class="ui mini circular image" src="./img/lukas.png"></div></span></td>
                  </tr>
                  <tr>
                    <td data-label="Status" class="mdl-data-table__cell--non-numeric"><i class="fa fa-check-circle fa-2x task-unchecked mark-as-done-trigger task-status" aria-hidden="true"></i></td>
                    <td class="task-name">Finish project report</td>
                    <td class="task-client">Rich Client</td>
                    <td class="task-project">Awesome Project</td>
                    <td class="task-start">25.7.2016</td>
                    <td class="task-end">27.7.2016</td>
                    <td class="task-consultant"><div class="consultant-avatars"><span data-title="Lukas Gutwinski" data-content="Senior Consultant Operational Excellence" class="project-manager-popup-trigger"><img class="ui mini circular image" src="./img/lukas.png"></div></span></td>
                  </tr>
                  <tr>
                    <td data-label="Status" class="mdl-data-table__cell--non-numeric"><i class="fa fa-check-circle fa-2x task-unchecked mark-as-done-trigger task-status" aria-hidden="true"></i></td>
                    <td class="task-name">Finish project report</td>
                    <td class="task-client">Rich Client</td>
                    <td class="task-project">Awesome Project</td>
                    <td class="task-start">25.7.2016</td>
                    <td class="task-end">27.7.2016</td>
                    <td class="task-consultant"><div class="consultant-avatars"><span data-title="Lukas Gutwinski" data-content="Senior Consultant Operational Excellence" class="project-manager-popup-trigger"><img class="ui mini circular image" src="./img/lukas.png"></div></span></td>
                  </tr>
                </tbody>
              </table>
              <ul class="pagination"></ul>
            </div>
          </div>

      </main>

      <!-- Modal -->
      <div class="ui long modal edit-task-modal">
        <div class="header">Edit Task</div>
        <div class="content">
          <form class="ui create-new-project form">
            <div class="required field">
              <label>Task</label>
              <input type="text" name="project-title" placeholder="Do some amazing stuff">
            </div>
            <div class="two fields">
              <div class="field">
                <label>Project</label>
                <input type="text" name="client-name" placeholder="Worldclass Company">
              </div>
              <div class="field">
                <label>Client</label>
                <input type="text" name="client-name" placeholder="Worldclass Company">
              </div>
            </div>
            <div class="three fields">
              <div class="field">
                <label>Begin</label>
                <div class="ui icon input">
                  <input type="text" class="deadline-date" value="">
                  <i class="calendar outline icon"></i>
                </div>
              </div>
              <div class="field">
                <label>Duration</label>
                <input type="text">
              </div>
              <div class="field">
                <label>End</label>
                <div class="ui icon input">
                  <input type="text" class="deadline-date" value="">
                  <i class="calendar outline icon"></i>
                </div>
              </div>
            </div>
            <div class="field">
              <label>Assigned to</label>
              <div class="ui fluid multiple search selection dropdown project-leader-select">
                <input type="hidden" name="consultant">
                <i class="dropdown icon"></i>
                <div class="default text">Team of great people</div>
                <div class="menu">
                  <div class="item" data-value="lukas">
                    <img class="ui mini avatar image" src="./img/lukas.png">
                    Lukas Gutwinski
                  </div>
                  <div class="item" data-value="vlad">
                    <img class="ui mini avatar image" src="./img/lukas.png">
                    Vladimir Pavlyukov
                  </div>
                  <div class="item" data-value="phan">
                    <img class="ui mini avatar image" src="./img/lukas.png">
                    Phanarat Pak
                  </div>
                </div>
              </div>
            </div>
            <div class="field">
              <label>Notes</label>
              <textarea rows="2" class="project-description"></textarea>
            </div>
            <div class="field">
              <div class="ui checkbox">
                <input type="checkbox" tabindex="0" class="hidden">
                <label style="color:#4CAF50">Mark task as done</label>
              </div>
            </div>
            <div class="ui error message"></div>
            <div class="right-aligned">
              <button class="ui button">Cancel</button>
              <button class="ui inverted button submit-button" type="submit">Edit Task</button>
            </div>
          </form>
        </div>
      </div>

      <!-- Mark as done modal -->
      <div class="ui long modal mark-as-done-modal">
        <div class="header">Mark "Finish project report" as done</div>
        <div class="content">
          <form class="ui create-new-project form">
            <div class="field">
              <label>Notes / Comments</label>
              <textarea rows="4" class="project-description"></textarea>
            </div>
            <div class="field">
              <div class="ui checkbox">
                <input type="checkbox" tabindex="0" class="hidden">
                <label class="send-test-trigger-remove" style="color:#4CAF50">Mark task as done</label>
              </div>
            </div>
            <div class="ui error message"></div>
            <div class="right-aligned">
              <button class="ui button">Cancel</button>
              <button class="ui inverted button submit-button" type="submit">Save</button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <script   src="https://code.jquery.com/jquery-3.1.0.min.js"   integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s="   crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.2/semantic.min.js"></script>
    <script src="./date/moment.min.js"></script>
    <script src="./date/daterangepicker.min.js"></script>
    <script src="./js/list.pagination.min.js">  </script>
    <script src="./js/list.js"></script>

    <!-- Modal -->
    <script type="text/javascript">
      $(document)
      .ready(function() {

        $('.project-manager-popup-trigger')
        .popup()
      ;
      });

      $( ".create-project" ).click(function() {
        $('.edit-task-modal')
      .modal('show')
      ;
      });

      $( ".mark-as-done-trigger" ).click(function() {
        $('.mark-as-done-modal')
      .modal('show')
      ;
      });

      $('.project-leader-select')
        .dropdown({fullTextSearch: true})
      ;

      $('.ui.checkbox')
      .checkbox()
      ;

      // Add animation for task filter
      $( ".filter-trigger" ).click(function() {
        $( ".task-filter-contols" ).show().addClass('animated fadeInRight');
      });

      $('.ui.create-new-project')
      .form({
        fields: {
          name: {
            identifier: 'project-title',
            rules: [
            {
              type   : 'empty',
              prompt : 'Please enter a name for your project'
            }
            ]
          },
          username: {
            identifier: 'client-name',
            rules: [
            {
              type   : 'empty',
              prompt : 'The project must be linked to a client'
            }
            ]
          }
        }
      })
      ;

      // Mark as done animation
      $( ".send-test-trigger-remove" ).click(function() {
        $(".mark-as-done-modal .header").hide();
        $(".mark-as-done-modal .content").html('<div class="sweet-alert showSweetAlert visible" style="display: block"><div class="sa-icon sa-success" style="display: block;"><span class="sa-line sa-tip"></span><span class="sa-line sa-long"></span><div class="sa-placeholder"></div><div class="sa-fix"></div></div></div><div style="font-size: 1.42857143rem; font-weight:700; text-align:center;">Great job!</div><p style="text-align: center; font-weight: bold;">"Finish project report" was marked as done</p>').fadeIn();
          $(".sa-icon").addClass("animate");
          $(".sa-tip").addClass("animateSuccessTip");
          $(".sa-long").addClass("animateSuccessLong");
      });


      // For responsive table (get table headers)

      var headertext = [];
      var headers = document.querySelectorAll("thead");
      var tablebody = document.querySelectorAll("tbody");

      for (var i = 0; i < headers.length; i++) {
        headertext[i]=[];
        for (var j = 0, headrow; headrow = headers[i].rows[0].cells[j]; j++) {
          var current = headrow;
          headertext[i].push(current.textContent);
        }
      }

      for (var h = 0, tbody; tbody = tablebody[h]; h++) {
        for (var i = 0, row; row = tbody.rows[i]; i++) {
          for (var j = 0, col; col = row.cells[j]; j++) {
            col.setAttribute("data-th", headertext[h][j]);
          }
        }
      }

    </script>

    <script>
    // Datepicker inizialize and make it work with tab key (lost focus of field after calander select)
      $(document).ready(function() {
        $('.deadline-date').focusin(function(e) {
          $(this).daterangepicker({
            singleDatePicker: true,
            locale: {
              format: 'YYYY-MM-DD'
            }
          },
          function() {
            // $(e.target).closest(".fields").next().children(":input").focus();
          }
          );
        });
      });

    </script>

    <script>
      $(document).ready(function() {
                            $('#rangepicker').daterangepicker({
                              opens: 'right'
                            },
                            function(start, end) {
                              $(".task-from-to-filter").text("From " + start.format('DD/MM/YY') + ' to ' + end.format('DD/MM/YY'));
                            }
                            );
                        });
    </script>

    <!-- list.js -->
    <script>
      var options = {
        valueNames: [ 'task-status', 'task-name', 'task-client', 'task-project', 'task-start', 'task-end', 'task-consultant' ],
        page: 3,
        plugins: [
          ListPagination({})
        ]
      };

      var taskList = new List('task-list', options);
    </script>

    <script>
      $(".applyBtn").click(function() {
        alert( "Handler for .click() called." );
      });
    </script>

  </body>
</html>
